name: Push to Main Add-Ons Suite
on:
  push:
    branches: master

jobs:
    push-zb01:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB01
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb01/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zb02:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB02
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb02/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main
          
    push-zb03:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB03
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb03/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main
                      
    push-zb04:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB04
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb04/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zb05:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB05
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb05/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zb06:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB06
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb06/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zb07:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB07
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb07/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zb08:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB08
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb08/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zb09:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB09
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb09/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zb10:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push ZB10
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zb10/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zigbee2mqtt-edge:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push zigbee2mqtt-edge
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zigbee2mqtt-edge/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-zigbee2mqtt-proxy:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push zigbee2mqtt-proxy
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "zigbee2mqtt-proxy/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main

    push-common:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Fetch all branches
            run: git fetch --all
          - name: Reset to remote main
            run: git reset --hard origin/main
          - name: Push Common
            uses: dmnemec/copy_file_to_another_repo_action@main
            env:
                API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
            with:
                source_file: "common/"
                destination_repo: 'racksync/hass-addons-suite'
                destination_folder: 'multipoint-zigbee/'
                user_email: 'devops@racksync.com'
                user_name: 'racksync'
                commit_message: 'multi-point zigbee has been updated from legacy codebase'
          - name: Push changes
            run: git push -u origin HEAD:main
